{{define "page"}}

<!DOCTYPE html>
<html lang="en">

    <head>
        <!-- Page title -->
        <title>{{ .Title }}</title>

        {{template "header" .}}
    </head>

    <body>

        <!-- Just an image -->
        <!-- <nav class="navbar navbar-inverse bg-inverse sticky-top navbar-toggleable-sm"> -->
        <nav class="navbar navbar-light bg-light fixed-top navbar-toggleable-sm py-3" data-toggle="affix">
            <!-- <a class="navbar-toggler navbar-toggler-right" data-toggle="collapse" data-target=".navbar-collapse">â˜°</a> -->
            <a class="navbar-brand" href="#">
                <img src="/static/images/d20-icon.svg" width="30" height="30" alt="">
            </a>
            <!-- <ul class="nav navbar-nav">
                <li class="nav-item"><a href="#" class="nav-link">Link</a>
                </li>
                <li class="nav-item"><a href="#" class="nav-link">Link</a>
                </li>
            </ul> -->
        </nav>

        <div class="container pt-2">

        {{ if .Posts }}
            <div class="row">
            {{ if .Title }}
                <!-- add posts to carousel -->
                <div id="postCarousel" class="carousel slide" data-ride="carousel" style="width: 100%;">
                    <div class="carousel-inner">
                    {{ range .Posts }}
                        <div class="carousel-item post-link" data-interval="8000" href="{{.Slug}}">
                            {{ if .Image }}
                                <img class="d-block w-100" src="{{ .Image }}" alt="{{ .Title }}">
                            {{else}}
                                <svg width="100%">
                                    <rect width="100%" height="100%" fill="#777"></rect>
                                </svg>
                            {{ end }}
                            <div class="carousel-caption d-none d-md-block">
                                <h5>{{.Title}}</h5>
                                <p>{{.Description}}</p>
                            </div>
                        </div>
                    {{ end }}
                    </div>
                    <a class="carousel-control-prev" href="#postCarousel" role="button" data-slide="prev">
                        <span class="sr-only">Previous</span>
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a class="carousel-control-next" href="#postCarousel" role="button" data-slide="next">
                        <span class="sr-only">Next</span>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                </div>
            {{ end }}
            {{ if not .Title }}
                <!-- tile posts using cards -->
                <div class="card-columns">
                    {{ range .Posts }}
                        <div class="card post-link"  href="{{.Slug}}">
                            {{ if .Image }}
                                <img class="card-img-top" src="{{ .Image }}" alt="{{ .Title }}">
                            {{ end }}
                            <div class="card-body">
                                <h5 class="card-title">{{.Title}}</h5>
                                <p class="card-text">{{.Description}}</p>
                            </div>
                        </div>
                    {{ end }}
                </div>
            {{ end }}
            </div>
        {{ end }}

        {{ if .Title }}
            <!--
                Scroll Spy:
                    https://www.codeply.com/go/PYSH1maRVO/bootstrap-4-nav-sticky-sidebar-scrollspy
            -->
            <div class="container position-relative" id="content">
                <div class="row h-100 pt-4">
                    <!-- sidebar -->
                    <div class="col-sm-3 col-xs-1" id="sidebar">
                        <div class="pt-5 mb-3 sticky-top" id="sidebar">
                            <ul class="nav nav-pills flex-column" id="menu">
                            </ul>
                        </div>
                    </div>
                    <!-- /sidebar -->
                    <!-- main -->
                    <div class="col-sm-9 col-xs-11 py-5" id="main">
                        <div class="row position-relative">
                            <div class="col">
                                <div class="media" data-spy="scroll" data-target="#menu" data-offset="0">
                                    {{ if .Image }}
                                    <img src="{{.Image}}" class="mr-3" alt="" style="max-width: 300px;">
                                    {{ end }}
                                    <div class="media-body">
                                        <h1 class="mt-0">{{.Title }}</h1>
                                        {{.ContentHTML}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /main -->
                </div>
            </div>
        {{ end }}

        </div>

        <!-- <footer class="footer fixed-bottom"> -->
        <!-- <footer class="footer mt-5">
            <div class="container">
                <small>
                    <span class="text-muted text-center">Wiki Blog.</span>
                </small>
            </div>
        </footer> -->

        <!-- scroll to top -->
        <!-- <a id="back-to-top" href="#" class="btn btn-light back-to-top" role="button">
            <i class="fas fa-chevron-up"></i>
        </a> -->

        {{template "footer" .}}

    </body>

</html>

{{end}}
